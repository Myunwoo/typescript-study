# 3장 타입 추론

타입스크립트의 타입 추론은 수동으로 명시해야 하는 타입 구문의 수를 엄청나게 줄여 주기 때문에, 코드의 전체적인 안정성이 향상됩니다. 이번 장에서는

- 타입 추론이 어떻게 일어나는지
- 언제 타입 선언을 작성해야 하는지
- 타입 추론이 가능하더라도 명시적으로 타입 선언을 작성하는 것이 필요한 상황

에 대해서 알아보겠습니다.

## 추론 가능한 타입을 사용해 장황한 코드 방지하기

```
ley x: number = 12;
```
위 코드는 아래처럼만 작성해도 충분합니다.
```
let x = 12;
```
편집기에서 x에 마우스를 올리면 타입이 number로 추론되어 있음을 확인할 수 있습니다.
타입 추론이 가능하다면, 명시적 타입 구문은 필요하지 않습니다. 타입스크립트는 위 예시처럼 하나의 값 뿐만아니라, 객체 내에 존재하는 값들의 타입을 추적하여 특정 타입을 포함하는 객체로 타입 추론 또한 가능합니다.

이상적인 경우, 함수/메서드의 시그니처에는 타입 구문이 있지만, 함수 내의 지역 변수에는 타입 구분이 없습니다. 지역 변수의 타입은 추론되도록 설정하여 유연하게 관리할 수 있습니다.

단, 추론될 수 있는 경우라도 객체 리터럴과 함수 반환에는 타입 명시를 고려하여 잉여 값 확인이나 구현의 오류가 탐지되도록 하는 것이 좋습니다.

## 다른 타입에는 다른 변수 사용하기

자바스크립트에서 let으로 변수를 선언할 경우, 하나의 변수로 다른 타입을 가지는 값을 초기화할 수 있습니다. 반면 타입스크립트에서는 이런 방식이 권장되지 않고, 다른 타입의 값은 각각의 변수로 사용해야 합니다.

유니온 타입으로 변수를 선언하여 회피할 수 있지만, 해당 변수가 사용되는 부분마다 해당 변수의 타입을 판단해야 하는 불편함이 생깁니다.

보통 값은 변하더라도 타입은 변하지 않기 때문에, 다른 타입의 변수에는 다른 변수를 사용하도록 합시다.

## 타입 넓히기

런타임에 모든 변수는 유일한 값을 가집니다. 그러나 타입스크립트가 코드를 정적 분석하는 시점에, 변수는 '가능한' 값들의 집합인 타입을 가집니다. 상수를 사용해서 변수를 초기화할 때 타입을 명시하지 않으면 타입 체커는 타입을 결정해야 합니다. 이 말은 지정된 단일 값을 가지고 할당 가능한 값들의 집합을 유추해야 한다는 뜻입니다. 타입스크립트에서는 이러한 과정을 '넓히기'라고 부릅니다. 넓히기의 과정을 이해한다면 오류의 원인을 파악하고 타입 구문을 더 효과적으로 사용할 수 있습니다.

